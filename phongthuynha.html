<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phong Th·ªßy Nh√† ·ªû</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 30px; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        .input-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .form-group { display: flex; flex-direction: column; }
        label { font-weight: 600; margin-bottom: 8px; color: #333; }
        input, select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        input:focus, select:focus { outline: none; border-color: #667eea; }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            width: 100%;
        }
        .btn:hover { transform: translateY(-2px); }
        .results { display: none; }
        .results.show { display: block; }
        .result-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }
        .result-card h2 { color: #667eea; margin-bottom: 15px; font-size: 1.8em; }
        .result-card h3 { color: #764ba2; margin-top: 20px; margin-bottom: 10px; font-size: 1.3em; }
        .result-card h4 { color: #555; margin-top: 15px; margin-bottom: 8px; font-size: 1.1em; }
        .info-box {
            background: white;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        .detail-box {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        .highlight { background: #fff3cd; padding: 3px 8px; border-radius: 4px; font-weight: 600; }
        .element-tag {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            margin: 5px;
        }
        .kim { background: #ffd700; color: #333; }
        .moc { background: #228B22; color: white; }
        .thuy { background: #1E90FF; color: white; }
        .hoa { background: #FF4500; color: white; }
        .tho { background: #8B4513; color: white; }
        .direction-note {
            font-size: 0.95em;
            color: #666;
            font-style: italic;
            margin-top: 8px;
        }
        .compass-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† Phong Th·ªßy Nh√† ·ªû üè†</h1>
            <p>B·ªë tr√≠ nh√† c·ª≠a theo phong th·ªßy ƒê√¥ng ph∆∞∆°ng</p>
        </div>

        <div class="card">
            <div class="input-section">
                <div class="form-group">
                    <label for="year">NƒÉm sinh (D∆∞∆°ng l·ªãch):</label>
                    <input type="number" id="year" placeholder="V√≠ d·ª•: 1975" min="1900" max="2100">
                </div>
                <div class="form-group">
                    <label for="gender">Gi·ªõi t√≠nh:</label>
                    <select id="gender">
                        <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
                        <option value="nam">Nam</option>
                        <option value="nu">N·ªØ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="doorDir">H∆∞·ªõng c·ª≠a ch√≠nh:</label>
                    <select id="doorDir">
                        <option value="">Ch·ªçn h∆∞·ªõng</option>
                        <option value="B·∫Øc">B·∫Øc</option>
                        <option value="ƒê√¥ng B·∫Øc">ƒê√¥ng B·∫Øc</option>
                        <option value="ƒê√¥ng">ƒê√¥ng</option>
                        <option value="ƒê√¥ng Nam">ƒê√¥ng Nam</option>
                        <option value="Nam">Nam</option>
                        <option value="T√¢y Nam">T√¢y Nam</option>
                        <option value="T√¢y">T√¢y</option>
                        <option value="T√¢y B·∫Øc">T√¢y B·∫Øc</option>
                    </select>
                </div>
            </div>
            <div id="error-message" style="color: #f44336; font-weight: bold; margin-top: 10px; display: none;"></div>
            <button class="btn" onclick="calculateFengShui()">Xem</button>
        </div>

        <div class="results" id="results"></div>
    </div>

    <script>
        const DATA = {
            menh: {
                'Kim': { colors: 'Tr·∫Øng, V√†ng, N√¢u, X√°m b·∫°c', items: 'ƒê·ªì kim lo·∫°i (ƒë·ªìng h·ªì, t∆∞·ª£ng ƒë·ªìng), chu√¥ng gi√≥ kim lo·∫°i, tranh n√∫i ƒë√°', plants: 'Kim ng√¢n, l∆∞·ª°i h·ªï, c√¢y l√° b·∫°c', stones: 'Th·∫°ch anh tr·∫Øng, kim sa, h·ªï ph√°ch tr·∫Øng', element: 'kim' },
                'M·ªôc': { colors: 'Xanh l√° c√¢y, Xanh lam, ƒêen, Xanh ng·ªçc', items: 'ƒê·ªì g·ªó t·ª± nhi√™n, tranh c√¢y c·ªëi, t∆∞·ª£ng g·ªó, bonsai', plants: 'C√¢y ph√°t t√†i, tr√∫c, ph√∫ qu√Ω, c√¢y xanh t∆∞∆°i t·ªët', stones: 'Ng·ªçc b√≠ch, m√£ n√£o xanh, emerald', element: 'moc' },
                'Th·ªßy': { colors: 'ƒêen, X√°m, Xanh d∆∞∆°ng ƒë·∫≠m, Xanh navy', items: 'B·ªÉ c√°, th√°c n∆∞·ªõc mini, tranh bi·ªÉn, ƒë√†i phun n∆∞·ªõc', plants: 'C√¢y th·ªßy sinh, sen ƒë√°, tr·∫ßu b√† n∆∞·ªõc, lan √Ω', stones: 'Th·∫°ch anh ƒëen, obsidian, lapis lazuli', element: 'thuy' },
                'H·ªèa': { colors: 'ƒê·ªè, Cam, H·ªìng, T√≠m, ƒê·ªè t∆∞∆°i', items: 'ƒê√®n trang tr√≠, n·∫øn th∆°m, tranh m·∫∑t tr·ªùi, ƒë·ªì ƒëi·ªán t·ª≠', plants: 'Hoa h·ªìng, ph∆∞·ª£ng, c√¢y l√° ƒë·ªè, hoa ƒë·ªè', stones: 'M√£ n√£o ƒë·ªè, h·ªìng ng·ªçc, garnet', element: 'hoa' },
                'Th·ªï': { colors: 'V√†ng, N√¢u ƒë·∫•t, Cam ƒë·∫•t, Be', items: 'ƒê·ªì g·ªëm s·ª©, ƒë√° t·ª± nhi√™n, t∆∞·ª£ng Ph·∫≠t ƒë·∫•t nung, l∆∞ h∆∞∆°ng', plants: 'X∆∞∆°ng r·ªìng, sen ƒë√°, c√¢y ƒëa, c√¢y l√° d√†y', stones: 'Th·∫°ch anh v√†ng, h·ªï ph√°ch, citrine', element: 'tho' }
            },
            quai: {
                'C√†n': { dirs: { good: ['T√¢y', 'ƒê√¥ng B·∫Øc', 'T√¢y Nam', 'T√¢y B·∫Øc'], bad: ['Nam', 'ƒê√¥ng', 'B·∫Øc', 'ƒê√¥ng Nam'] }, group: 'T√¢y T·ª© Tr·∫°ch', explain: 'Qu√°i C√†n t∆∞·ª£ng tr∆∞ng cho Tr·ªùi, kim lo·∫°i c·ª©ng r·∫Øn. Ng∆∞·ªùi m·ªánh C√†n th√≠ch s·ª± v·ªØng ch·∫Øc, tr·∫≠t t·ª±.' },
                'ƒêo√†i': { dirs: { good: ['T√¢y B·∫Øc', 'T√¢y Nam', 'ƒê√¥ng B·∫Øc', 'T√¢y'], bad: ['ƒê√¥ng', 'Nam', 'ƒê√¥ng Nam', 'B·∫Øc'] }, group: 'T√¢y T·ª© Tr·∫°ch', explain: 'Qu√°i ƒêo√†i t∆∞·ª£ng tr∆∞ng cho ƒê·∫ßm l·∫ßy, kim lo·∫°i m·ªÅm. Ng∆∞·ªùi m·ªánh ƒêo√†i vui v·∫ª, giao ti·∫øp t·ªët.' },
                'C·∫•n': { dirs: { good: ['T√¢y Nam', 'T√¢y B·∫Øc', 'T√¢y', 'ƒê√¥ng B·∫Øc'], bad: ['ƒê√¥ng Nam', 'B·∫Øc', 'ƒê√¥ng', 'Nam'] }, group: 'T√¢y T·ª© Tr·∫°ch', explain: 'Qu√°i C·∫•n t∆∞·ª£ng tr∆∞ng cho N√∫i, s·ª± v·ªØng ch·∫Øc. Ng∆∞·ªùi m·ªánh C·∫•n c√≥ t√≠nh b·ªÅn b·ªâ, ki√™n ƒë·ªãnh.' },
                'Kh√¥n': { dirs: { good: ['ƒê√¥ng B·∫Øc', 'T√¢y', 'T√¢y B·∫Øc', 'T√¢y Nam'], bad: ['B·∫Øc', 'ƒê√¥ng Nam', 'Nam', 'ƒê√¥ng'] }, group: 'T√¢y T·ª© Tr·∫°ch', explain: 'Qu√°i Kh√¥n t∆∞·ª£ng tr∆∞ng cho ƒê·∫•t, s·ª± bao dung. Ng∆∞·ªùi m·ªánh Kh√¥n c√≥ t√≠nh ki√™n nh·∫´n, nu√¥i d∆∞·ª°ng.' },
                'Ch·∫•n': { dirs: { good: ['Nam', 'B·∫Øc', 'ƒê√¥ng Nam', 'ƒê√¥ng'], bad: ['T√¢y', 'T√¢y B·∫Øc', 'ƒê√¥ng B·∫Øc', 'T√¢y Nam'] }, group: 'ƒê√¥ng T·ª© Tr·∫°ch', explain: 'Qu√°i Ch·∫•n t∆∞·ª£ng tr∆∞ng cho S·∫•m, s·ª± chuy·ªÉn ƒë·ªông. Ng∆∞·ªùi m·ªánh Ch·∫•n nƒÉng ƒë·ªông, quy·∫øt ƒëo√°n.' },
                'T·ªën': { dirs: { good: ['B·∫Øc', 'Nam', 'ƒê√¥ng', 'ƒê√¥ng Nam'], bad: ['ƒê√¥ng B·∫Øc', 'T√¢y Nam', 'T√¢y', 'T√¢y B·∫Øc'] }, group: 'ƒê√¥ng T·ª© Tr·∫°ch', explain: 'Qu√°i T·ªën t∆∞·ª£ng tr∆∞ng cho Gi√≥, s·ª± linh ho·∫°t. Ng∆∞·ªùi m·ªánh T·ªën kh√©o l√©o, th√≠ch nghi t·ªët.' },
                'Ly': { dirs: { good: ['ƒê√¥ng', 'ƒê√¥ng Nam', 'B·∫Øc', 'Nam'], bad: ['T√¢y B·∫Øc', 'T√¢y', 'T√¢y Nam', 'ƒê√¥ng B·∫Øc'] }, group: 'ƒê√¥ng T·ª© Tr·∫°ch', explain: 'Qu√°i Ly t∆∞·ª£ng tr∆∞ng cho L·ª≠a, √°nh s√°ng. Ng∆∞·ªùi m·ªánh Ly nhi·ªát huy·∫øt, s√°ng t·∫°o, n·ªïi b·∫≠t.' },
                'Kh·∫£m': { dirs: { good: ['ƒê√¥ng Nam', 'ƒê√¥ng', 'Nam', 'B·∫Øc'], bad: ['T√¢y Nam', 'ƒê√¥ng B·∫Øc', 'T√¢y B·∫Øc', 'T√¢y'] }, group: 'ƒê√¥ng T·ª© Tr·∫°ch', explain: 'Qu√°i Kh·∫£m t∆∞·ª£ng tr∆∞ng cho N∆∞·ªõc, s·ª± th·∫•u hi·ªÉu. Ng∆∞·ªùi m·ªánh Kh·∫£m th√¥ng minh, linh ho·∫°t.' }
            }
        };

        const STARS = ['Sinh Kh√≠', 'Thi√™n Y', 'Di√™n Ni√™n', 'Ph·ª•c V·ªã'];
        const BAD_STARS = ['Tuy·ªát M·ªánh', 'Ng≈© Qu·ª∑', 'L·ª•c S√°t', 'H·ªça H·∫°i'];
        const STAR_DESC = ['C·ª±c t·ªët - V∆∞·ª£ng v·ªÅ t√†i l·ªôc, s·ª± nghi·ªáp, con c√°i kh·ªèe m·∫°nh th√¥ng minh', 'R·∫•t t·ªët - S·ª©c kh·ªèe d·ªìi d√†o, g·∫∑p qu√Ω nh√¢n ph√π tr·ª£, b·ªánh t·∫≠t ti√™u tan', 'T·ªët - H√¥n nh√¢n h·∫°nh ph√∫c, gia ƒë·∫°o h√≤a thu·∫≠n, s·ªëng l√¢u', 'Kh√° t·ªët - Cu·ªôc s·ªëng b√¨nh an, ·ªïn ƒë·ªãnh, kh√¥ng c√≥ bi·∫øn c·ªë l·ªõn'];
        const BAD_DESC = ['Hung nh·∫•t - Tai h·ªça l·ªõn, nguy hi·ªÉm t√≠nh m·∫°ng, ph√° s·∫£n', 'C·ª±c x·∫•u - B·ªánh t·∫≠t nghi√™m tr·ªçng, h·ªèa ho·∫°n, m·∫•t m√°t l·ªõn', 'R·∫•t x·∫•u - Tranh ch·∫•p ph√°p l√Ω, ki·ªán t·ª•ng, ti√™u t√°n t√†i s·∫£n', 'X·∫•u - D·ªÖ g·∫∑p tai n·∫°n nh·ªè, tranh c√£i trong gia ƒë√¨nh'];

        function calcMenh(y) {
            const napAm = [
                'Gi√°p T√Ω - H·∫£i Trung Kim','·∫§t S·ª≠u - H·∫£i Trung Kim','B√≠nh D·∫ßn - L∆∞ Trung H·ªèa','ƒêinh M√£o - L∆∞ Trung H·ªèa','M·∫≠u Th√¨n - ƒê·∫°i L√¢m M·ªôc','K·ª∑ T·ªµ - ƒê·∫°i L√¢m M·ªôc',
                'Canh Ng·ªç - L·ªô B√†ng Th·ªï','T√¢n M√πi - L·ªô B√†ng Th·ªï','Nh√¢m Th√¢n - Ki·∫øm Phong Kim','Qu√Ω D·∫≠u - Ki·∫øm Phong Kim','Gi√°p Tu·∫•t - S∆°n ƒê·∫ßu H·ªèa','·∫§t H·ª£i - S∆°n ƒê·∫ßu H·ªèa',
                'B√≠nh T√Ω - Gi·∫£n H·∫° Th·ªßy','ƒêinh S·ª≠u - Gi·∫£n H·∫° Th·ªßy','M·∫≠u D·∫ßn - Th√†nh ƒê·∫ßu Th·ªï','K·ª∑ M√£o - Th√†nh ƒê·∫ßu Th·ªï','Canh Th√¨n - B·∫°ch L·∫°p Kim','T√¢n T·ªµ - B·∫°ch L·∫°p Kim',
                'Nh√¢m Ng·ªç - D∆∞∆°ng Li·ªÖu M·ªôc','Qu√Ω M√πi - D∆∞∆°ng Li·ªÖu M·ªôc','Gi√°p Th√¢n - Tuy·ªÅn Trung Th·ªßy','·∫§t D·∫≠u - Tuy·ªÅn Trung Th·ªßy','B√≠nh Tu·∫•t - ·ªêc Th∆∞·ª£ng Th·ªï','ƒêinh H·ª£i - ·ªêc Th∆∞·ª£ng Th·ªï',
                'M·∫≠u T√Ω - T√≠ch L·ªãch H·ªèa','K·ª∑ S·ª≠u - T√≠ch L·ªãch H·ªèa','Canh D·∫ßn - T√πng B√°ch M·ªôc','T√¢n M√£o - T√πng B√°ch M·ªôc','Nh√¢m Th√¨n - Tr∆∞·ªùng L∆∞u Th·ªßy','Qu√Ω T·ªµ - Tr∆∞·ªùng L∆∞u Th·ªßy',
                'Gi√°p Ng·ªç - Sa Trung Kim','·∫§t M√πi - Sa Trung Kim','B√≠nh Th√¢n - S∆°n H·∫° H·ªèa','ƒêinh D·∫≠u - S∆°n H·∫° H·ªèa','M·∫≠u Tu·∫•t - B√¨nh ƒê·ªãa M·ªôc','K·ª∑ H·ª£i - B√¨nh ƒê·ªãa M·ªôc',
                'Canh T√Ω - B√≠ch Th∆∞·ª£ng Th·ªï','T√¢n S·ª≠u - B√≠ch Th∆∞·ª£ng Th·ªï','Nh√¢m D·∫ßn - Kim B·∫°ch Kim','Qu√Ω M√£o - Kim B·∫°ch Kim','Gi√°p Th√¨n - Ph√∫c ƒêƒÉng H·ªèa','·∫§t T·ªµ - Ph√∫c ƒêƒÉng H·ªèa',
                'B√≠nh Ng·ªç - Thi√™n H√† Th·ªßy','ƒêinh M√πi - Thi√™n H√† Th·ªßy','M·∫≠u Th√¢n - ƒê·∫°i Tr·∫°ch Th·ªï','K·ª∑ D·∫≠u - ƒê·∫°i Tr·∫°ch Th·ªï','Canh Tu·∫•t - Thoa Xuy·∫øn Kim','T√¢n H·ª£i - Thoa Xuy·∫øn Kim',
                'Nh√¢m T√Ω - Tang ƒê·ªë M·ªôc','Qu√Ω S·ª≠u - Tang ƒê·ªë M·ªôc','Gi√°p D·∫ßn - ƒê·∫°i Kh√™ Th·ªßy','·∫§t M√£o - ƒê·∫°i Kh√™ Th·ªßy','B√≠nh Th√¨n - Sa Trung Th·ªï','ƒêinh T·ªµ - Sa Trung Th·ªï',
                'M·∫≠u Ng·ªç - Thi√™n Th∆∞·ª£ng H·ªèa','K·ª∑ M√πi - Thi√™n Th∆∞·ª£ng H·ªèa','Canh Th√¢n - Th·∫°ch L·ª±u M·ªôc','T√¢n D·∫≠u - Th·∫°ch L·ª±u M·ªôc','Nh√¢m Tu·∫•t - ƒê·∫°i H·∫£i Th·ªßy','Qu√Ω H·ª£i - ƒê·∫°i H·∫£i Th·ªßy'
            ];
            const baseYear = 1924;
            let index = (y - baseYear) % 60;
            if (index < 0) index += 60;
            return napAm[index];
        }

        function calcQuai(y, g) {
            let last = y % 100;
            let sum = Math.floor(last / 10) + (last % 10);
            while (sum > 9) sum = Math.floor(sum / 10) + (sum % 10);
            if (sum === 0) sum = 9;
            let n;
            if (y < 2000) {
                if (g === 'nam') {
                    n = 10 - sum;
                } else {
                    n = sum + 5;
                    if (n > 9) n -= 9;
                }
            } else {
                if (g === 'nam') {
                    n = 9 - sum;
                } else {
                    n = sum + 6;
                    if (n > 9) n -= 9;
                }
            }
            if (n === 5) n = g === 'nam' ? 2 : 8;
            if (n === 0) n = 9;
            const q = {1:'Kh·∫£m',2:'Kh√¥n',3:'Ch·∫•n',4:'T·ªën',6:'C√†n',7:'ƒêo√†i',8:'C·∫•n',9:'Ly'};
            return q[n] || 'Kh·∫£m';
        }

        function drawCompass(q, doorDir) {
            const dirs = ['B·∫Øc','ƒê√¥ng B·∫Øc','ƒê√¥ng','ƒê√¥ng Nam','Nam','T√¢y Nam','T√¢y','T√¢y B·∫Øc'];
            const angs = [0,45,90,135,180,225,270,315];
            const s = 500, cx = s/2, r = s/2-40;
            let svg = `<svg width="${s}" height="${s}"><circle cx="${cx}" cy="${cx}" r="${r}" fill="#f5f7fa" stroke="#667eea" stroke-width="3"/>`;
            
            dirs.forEach((d, i) => {
                const a = (angs[i]-90)*Math.PI/180;
                const good = DATA.quai[q].dirs.good.includes(d);
                const isDoor = d === doorDir;
                const doorGood = isDoor && good;
                const col = isDoor ? (doorGood ? '#228B22' : '#f44336') : (good ? '#4CAF50' : '#f44336');
                const fill = isDoor ? (doorGood ? '#d4edda' : '#f8d7da') : (good ? '#e8f5e9' : '#ffebee');
                
                const a1 = (angs[i]-22.5-90)*Math.PI/180, a2 = (angs[i]+22.5-90)*Math.PI/180;
                const x1 = cx+Math.cos(a1)*r, y1 = cx+Math.sin(a1)*r;
                const x2 = cx+Math.cos(a2)*r, y2 = cx+Math.sin(a2)*r;
                svg += `<path d="M${cx} ${cx}L${x1} ${y1}A${r} ${r} 0 0 1 ${x2} ${y2}Z" fill="${fill}" stroke="${col}" stroke-width="3" opacity="0.7"/>`;
                
                const tx = cx+Math.cos(a)*r*0.75, ty = cx+Math.sin(a)*r*0.75;
                svg += `<text x="${tx}" y="${ty}" text-anchor="middle" dominant-baseline="middle" font-size="18" font-weight="bold" fill="${col}">${d}</text>`;
                
                const ix = cx+Math.cos(a)*r*0.5, iy = cx+Math.sin(a)*r*0.5;
                if (isDoor) {
                    svg += `<text x="${ix}" y="${iy}" text-anchor="middle" dominant-baseline="middle" font-size="24" fill="${col}">üö™</text>`;
                } else {
                    const starIndex = good ? DATA.quai[q].dirs.good.indexOf(d) : DATA.quai[q].dirs.bad.indexOf(d);
                    const star = good ? (starIndex >= 0 ? STARS[starIndex] : '') : (starIndex >= 0 ? BAD_STARS[starIndex] : '');
                    svg += `<text x="${ix}" y="${iy}" text-anchor="middle" dominant-baseline="middle" font-size="16" fill="${col}">${star}</text>`;
                }
            });
            
            svg += `<circle cx="${cx}" cy="${cx}" r="45" fill="white" stroke="#667eea" stroke-width="3"/>`;
            svg += `<text x="${cx}" y="${cx}" text-anchor="middle" dominant-baseline="middle" font-size="16" font-weight="bold" fill="#667eea">LA B√ÄN</text></svg>`;
            return svg;
        }

        function getDoorExplanation(q, doorDir) {
            const qd = DATA.quai[q];
            const isGood = qd.dirs.good.includes(doorDir);
            const idx = isGood ? qd.dirs.good.indexOf(doorDir) : qd.dirs.bad.indexOf(doorDir);
            
            if (isGood) {
                const starNames = ['Sinh Kh√≠ (t√†i v·∫≠n)', 'Thi√™n Y (s·ª©c kh·ªèe)', 'Di√™n Ni√™n (h√¥n nh√¢n)', 'Ph·ª•c V·ªã (b√¨nh an)'];
                return `‚úÖ <strong>H∆Ø·ªöNG T·ªêT!</strong><br>C·ª≠a ch√≠nh h∆∞·ªõng <span class="highlight">${doorDir}</span> l√† h∆∞·ªõng <strong>${starNames[idx]}</strong><br>${STAR_DESC[idx]}<br><em style="color: #4CAF50;">C·ª≠a n√†y s·∫Ω ƒë√≥n t√†i kh√≠ v√†o nh√†, r·∫•t thu·∫≠n l·ª£i!</em>`;
            } else {
                const badNames = ['Tuy·ªát M·ªánh', 'Ng≈© Qu·ª∑', 'L·ª•c S√°t', 'H·ªça H·∫°i'];
                return `‚ö†Ô∏è <strong>H∆Ø·ªöNG X·∫§U!</strong><br>C·ª≠a ch√≠nh h∆∞·ªõng <span class="highlight">${doorDir}</span> l√† h∆∞·ªõng <strong>${badNames[idx]}</strong><br>${BAD_DESC[idx]}<br><em style="color: #f44336;">N√™n xem x√©t thay ƒë·ªïi ho·∫∑c c·∫£i thi·ªán b·∫±ng v·∫≠t phong th·ªßy.</em>`;
            }
        }

        function renderSection(title, content) {
            const section = document.createElement('div');
            section.className = 'result-card';
            section.innerHTML = `<h2>${title}</h2>${content}`;
            return section;
        }

        function calculateFengShui() {
            const y = parseInt(document.getElementById('year').value);
            const g = document.getElementById('gender').value;
            const doorDir = document.getElementById('doorDir').value;
            const errorDiv = document.getElementById('error-message');
            
            if (isNaN(y) || y < 1900 || y > 2100) {
                errorDiv.textContent = 'NƒÉm sinh ph·∫£i l√† s·ªë h·ª£p l·ªá t·ª´ 1900 ƒë·∫øn 2100!';
                errorDiv.style.display = 'block';
                return;
            }
            if (!g || !['nam', 'nu'].includes(g)) {
                errorDiv.textContent = 'Vui l√≤ng ch·ªçn gi·ªõi t√≠nh!';
                errorDiv.style.display = 'block';
                return;
            }
            if (!doorDir || !['B·∫Øc', 'ƒê√¥ng B·∫Øc', 'ƒê√¥ng', 'ƒê√¥ng Nam', 'Nam', 'T√¢y Nam', 'T√¢y', 'T√¢y B·∫Øc'].includes(doorDir)) {
                errorDiv.textContent = 'Vui l√≤ng ch·ªçn h∆∞·ªõng c·ª≠a ch√≠nh!';
                errorDiv.style.display = 'block';
                return;
            }
            errorDiv.style.display = 'none';

            const m = calcMenh(y);
            let mt = 'Th·ªï';
            if (m.includes('Kim')) mt = 'Kim';
            else if (m.includes('M·ªôc')) mt = 'M·ªôc';
            else if (m.includes('Th·ªßy')) mt = 'Th·ªßy';
            else if (m.includes('H·ªèa')) mt = 'H·ªèa';
            
            const q = calcQuai(y, g);
            const qd = DATA.quai[q];
            const md = DATA.menh[mt];

            const fragment = document.createDocumentFragment();

            // Section Th√¥ng Tin M·ªánh & Qu√°i S·ªë
            fragment.appendChild(renderSection('üåü Th√¥ng Tin M·ªánh & Qu√°i S·ªë', `
                <div class="info-box">
                    <strong>M·ªánh c·ªßa b·∫°n:</strong> <span class="element-tag ${md.element}">${m}</span>
                    <br><strong>Qu√°i s·ªë:</strong> ${q}
                    <br><strong>Nh√≥m T·ª© Tr·∫°ch:</strong> ${qd.group}
                </div>
                <div class="detail-box"><strong>üìñ Gi·∫£i th√≠ch:</strong><br>${qd.explain}</div>
            `));

            // Section Phong Th·ªßy C·ª≠a Ch√≠nh
            fragment.appendChild(renderSection('üè† Phong Th·ªßy C·ª≠a Ch√≠nh Nh√† B·∫°n', `
                <div class="info-box" style="border-left-color: #FF6B00;">
                    <strong>H∆∞·ªõng c·ª≠a ch√≠nh:</strong> <span class="highlight" style="background: #FFE4D6; color: #FF6B00;">üö™ ${doorDir}</span>
                    <br><br>${getDoorExplanation(q, doorDir)}
                </div>
            `));

            // Section La B√†n
            let compassHtml = `
                <div class="compass-section">
                    <div style="width: 100%; max-width: 500px;">${drawCompass(q, doorDir)}</div>
                    <div class="direction-note">
                        üö™ = V·ªã tr√≠ c·ª≠a ch√≠nh c·ªßa b·∫°n | Sinh Kh√≠, Thi√™n Y, Di√™n Ni√™n, Ph·ª•c V·ªã = H∆∞·ªõng t·ªët (xanh) | Tuy·ªát M·ªánh, Ng≈© Qu·ª∑, L·ª•c S√°t, H·ªça H·∫°i = H∆∞·ªõng x·∫•u (ƒë·ªè)
                    </div>
                    <h3>üåü T·ª© C√°t Tinh (H∆∞·ªõng T·ªët):</h3>`;
            for (let i = 0; i < 4; i++) {
                compassHtml += `<div class="info-box" style="background:#f1f8f4;border-left-color:#4CAF50">
                    <strong>‚≠ê ${STARS[i]} - H∆∞·ªõng <span class="highlight">${qd.dirs.good[i]}</span></strong><br>${STAR_DESC[i]}
                </div>`;
            }
            compassHtml += `<h3>üíÄ T·ª© Hung Tinh (H∆∞·ªõng X·∫•u):</h3>`;
            for (let i = 0; i < 4; i++) {
                compassHtml += `<div class="info-box" style="background:#fff5f5;border-left-color:#f44336">
                    <strong>üíÄ ${BAD_STARS[i]} - H∆∞·ªõng <span class="highlight">${qd.dirs.bad[i]}</span></strong><br>${BAD_DESC[i]}
                </div>`;
            }
            compassHtml += `</div>`;
            fragment.appendChild(renderSection('üß≠ La B√†n 8 H∆∞·ªõng & V·ªã Tr√≠ C·ª≠a Ch√≠nh', compassHtml));

            // Section Ph√≤ng B·∫øp
            fragment.appendChild(renderSection('üç≥ Phong Th·ªßy Ph√≤ng B·∫øp', `
                <div class="info-box"><strong>üéØ H∆∞·ªõng T·ªêT NH·∫§T:</strong> ƒê·∫∑t b·∫øp ·ªü h∆∞·ªõng <span class="highlight">${qd.dirs.bad[1]}</span> (Ng≈© Qu·ª∑) ho·∫∑c <span class="highlight">${qd.dirs.bad[2]}</span> (L·ª•c S√°t) ƒë·ªÉ √©p hung kh√≠</div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc C·ª≠a Ph√≤ng B·∫øp (Theo L·ªó Ban 52.2cm - D∆∞∆°ng Tr·∫°ch):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">52.2cm</span> - Ph√°t l·ªôc<br>
                    ‚Ä¢ <span class="highlight">78.3cm</span> - T√†i v·∫≠n<br>
                    ‚Ä¢ <span class="highlight">104.4cm</span> - Sinh kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">156.6cm</span> - V∆∞·ª£ng<br>
                    ‚Ä¢ <span class="highlight">208.8cm</span> - Sinh kh√≠<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">104.4cm √ó 208.8cm</span>
                    
                    <h4>üìç V·ªã tr√≠ ƒë·∫∑t b·∫øp:</h4>
                    <strong>Nguy√™n t·∫Øc:</strong> B·∫øp n√™n ƒë·∫∑t ·ªü h∆∞·ªõng X·∫§U ƒë·ªÉ "ƒë·ªët ch√°y" hung kh√≠<br>
                    <strong>V·ªã tr√≠ t·ªët nh·∫•t:</strong> Ph√≤ng b·∫øp ·ªü ph√≠a <span class="highlight">${qd.dirs.bad[1]}</span> ho·∫∑c <span class="highlight">${qd.dirs.bad[2]}</span> c·ªßa nh√†<br>
                    <strong>C√≥ th·ªÉ ch·∫•p nh·∫≠n:</strong> ƒê·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.bad[3]}</span> (H·ªça H·∫°i)
                    
                    <h4>üî• H∆∞·ªõng mi·ªáng b·∫øp khi n·∫•u:</h4>
                    <strong>Mi·ªáng b·∫øp h∆∞·ªõng:</strong> <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) khi n·∫•u n∆∞·ªõng<br>
                    <em class="direction-note">"Mi·ªáng b·∫øp" l√† h∆∞·ªõng m√† b·∫°n ƒë·ª©ng n·∫•u, ngu·ªìn l·ª≠a/nhi·ªát h∆∞·ªõng v√†o</em><br>
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t m·ªôt l∆∞ h∆∞∆°ng nh·ªè b·∫±ng g·ªëm ho·∫∑c ƒë·ªìng ·ªü g√≥c <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) ƒë·ªÉ thu h√∫t t√†i l·ªôc.<br>
                    - ƒê·∫∑t b√¨nh phong ho·∫∑c c√¢y l∆∞·ª°i h·ªï ·ªü c·ª≠a b·∫øp h∆∞·ªõng <span class="highlight">${qd.dirs.bad[0]}</span> (Tuy·ªát M·ªánh) ƒë·ªÉ h√≥a gi·∫£i nƒÉng l∆∞·ª£ng x·∫•u.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>B·∫øp KH√îNG ƒë∆∞·ª£c ƒë·ªëi di·ªán c·ª≠a ch√≠nh</li>
                        <li>Tr√°nh ƒë·∫∑t b·∫øp d∆∞·ªõi nh√† v·ªá sinh t·∫ßng tr√™n</li>
                        <li>Kh√¥ng ƒë·ªÉ b·∫øp ƒë·ªëi th·∫≥ng ph√≤ng ng·ªß</li>
                        <li>B·∫øp kh√¥ng n√™n n·∫±m gi·ªØa nh√†</li>
                        <li>Lu√¥n gi·ªØ b·∫øp s·∫°ch s·∫Ω, tho√°ng m√°t</li>
                    </ul>
                </div>
            `));

            // Section Ph√≤ng T·∫Øm & WC
            fragment.appendChild(renderSection('üöø Phong Th·ªßy Ph√≤ng T·∫Øm & WC', `
                <div class="info-box"><strong>üéØ Nguy√™n t·∫Øc:</strong> ƒê·∫∑t ·ªü h∆∞·ªõng X·∫§U ƒë·ªÉ h√≥a gi·∫£i hung kh√≠</div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc C·ª≠a Ph√≤ng T·∫Øm/WC (Theo L·ªó Ban 52.2cm - D∆∞∆°ng Tr·∫°ch):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">52.2cm</span> - Ph√°t l·ªôc<br>
                    ‚Ä¢ <span class="highlight">78.3cm</span> - T√†i v·∫≠n<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">156.6cm</span> - V∆∞·ª£ng<br>
                    ‚Ä¢ <span class="highlight">208.8cm</span> - Sinh kh√≠<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">78.3cm √ó 208.8cm</span>
                    
                    <h4>üìç V·ªã tr√≠ ph√π h·ª£p:</h4>
                    <strong>V·ªã tr√≠ t·ªët nh·∫•t:</strong> ƒê·∫∑t toilet/nh√† t·∫Øm ·ªü ph√≠a <span class="highlight">${qd.dirs.bad[1]}</span> ho·∫∑c <span class="highlight">${qd.dirs.bad[2]}</span><br>
                    <strong>C√≥ th·ªÉ ch·∫•p nh·∫≠n:</strong> ƒê·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.bad[0]}</span> ho·∫∑c <span class="highlight">${qd.dirs.bad[3]}</span><br>
                    <strong>Nguy√™n t·∫Øc:</strong> Toilet ƒë·∫∑t ·ªü h∆∞·ªõng x·∫•u ƒë·ªÉ "x·∫£" hung kh√≠ ra ngo√†i
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t m·ªôt vi√™n th·∫°ch anh ƒëen ho·∫∑c obsidian ·ªü g√≥c <span class="highlight">${qd.dirs.bad[0]}</span> (Tuy·ªát M·ªánh) g·∫ßn b·ªìn r·ª≠a ƒë·ªÉ h√∫t nƒÉng l∆∞·ª£ng ti√™u c·ª±c.<br>
                    - Treo chu√¥ng gi√≥ kim lo·∫°i ·ªü c·ª≠a ph√≤ng t·∫Øm h∆∞·ªõng <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) ƒë·ªÉ c√¢n b·∫±ng kh√≠.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>LU√îN ƒë√≥ng n·∫Øp b·ªìn c·∫ßu v√† c·ª≠a toilet</li>
                        <li>Ph·∫£i c√≥ c·ª≠a s·ªï ho·∫∑c h·ªá th·ªëng th√¥ng gi√≥ t·ªët</li>
                        <li>Gi·ªØ kh√¥ r√°o, s·∫°ch s·∫Ω th∆∞·ªùng xuy√™n</li>
                        <li>Tuy·ªát ƒë·ªëi KH√îNG ƒë·ªÉ toilet ·ªü trung t√¢m nh√†</li>
                        <li>Kh√¥ng ƒë·ªÉ toilet ƒë·ªëi di·ªán b·∫øp ho·∫∑c b√†n th·ªù</li>
                    </ul>
                </div>
            `));

            // Section Ph√≤ng L√†m Vi·ªác
            fragment.appendChild(renderSection('üìö Phong Th·ªßy Ph√≤ng L√†m Vi·ªác', `
                <div class="info-box"><strong>üéØ H∆∞·ªõng T·ªêT NH·∫§T:</strong> <span class="highlight">${qd.dirs.good[0]} (Sinh Kh√≠)</span> - t·ªët nh·∫•t cho c√¥ng vi·ªác, t√†i v·∫≠n</div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc C·ª≠a Ph√≤ng L√†m Vi·ªác (Theo L·ªó Ban 52.2cm - D∆∞∆°ng Tr·∫°ch):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">78.3cm</span> - T√†i v·∫≠n<br>
                    ‚Ä¢ <span class="highlight">104.4cm</span> - Sinh kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">208.8cm</span> - Sinh kh√≠<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">104.4cm √ó 208.8cm</span>
                    
                    <h4>üìç V·ªã tr√≠ ph√≤ng l√†m vi·ªác:</h4>
                    <strong>T·ªët nh·∫•t:</strong> Ph√≤ng l√†m vi·ªác ·ªü ph√≠a <span class="highlight">${qd.dirs.good[0]}</span> c·ªßa nh√† (Sinh Kh√≠ - v∆∞·ª£ng s·ª± nghi·ªáp)<br>
                    <strong>L·ª±a ch·ªçn 2:</strong> ƒê·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y - t·ªët n·∫øu c√¥ng vi·ªác √°p l·ª±c)<br>
                    <strong>L·ª±a ch·ªçn 3:</strong> ƒê·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[3]}</span> (Ph·ª•c V·ªã - c√¥ng vi·ªác ·ªïn ƒë·ªãnh)
                    
                    <h4>üíº H∆∞·ªõng ng·ªìi l√†m vi·ªác:</h4>
                    <strong>H∆∞·ªõng ng·ªìi t·ªët nh·∫•t:</strong> Ng·ªìi h∆∞·ªõng m·∫∑t v·ªÅ <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠)<br>
                    <strong>H∆∞·ªõng ng·ªìi thay th·∫ø:</strong> C√≥ th·ªÉ ng·ªìi h∆∞·ªõng v·ªÅ <span class="highlight">${qd.dirs.good[1]}</span> ho·∫∑c <span class="highlight">${qd.dirs.good[2]}</span><br>
                    <em class="direction-note">"H∆∞·ªõng ng·ªìi" l√† h∆∞·ªõng b·∫°n nh√¨n v·ªÅ khi ng·ªìi l√†m vi·ªác</em>
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t th·∫°ch anh v√†ng ho·∫∑c citrine tr√™n b√†n l√†m vi·ªác ·ªü g√≥c <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) ƒë·ªÉ tƒÉng t√†i v·∫≠n.<br>
                    - ƒê·∫∑t t∆∞·ª£ng Ph·∫≠t ho·∫∑c c√¢y kim ng√¢n ·ªü g√≥c <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) ƒë·ªÉ h·ªó tr·ª£ s·ª©c kh·ªèe tinh th·∫ßn.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>üìè K√≠ch Th∆∞·ªõc B√†n L√†m Vi·ªác (Theo L·ªó Ban 42.9cm):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">81.5cm</span> - T√†i l·ªôc<br>
                    ‚Ä¢ <span class="highlight">107.2cm</span> - V∆∞·ª£ng kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu s√¢u (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">42.9cm</span> - Ph√°t t√†i<br>
                    ‚Ä¢ <span class="highlight">64.3cm</span> - Sinh kh√≠<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">81.5cm</span> - V∆∞·ª£ng<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">107.2cm √ó 64.3cm √ó 81.5cm</span>
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>B√†n l√†m vi·ªác PH·∫¢I t·ª±a l∆∞ng v√†o t∆∞·ªùng</li>
                        <li>KH√îNG ng·ªìi quay l∆∞ng v·ªÅ ph√≠a c·ª≠a</li>
                        <li>N√™n c√≥ √°nh s√°ng t·ª± nhi√™n t·ª´ b√™n tr√°i</li>
                        <li>Tr√°nh ng·ªìi d∆∞·ªõi d·∫ßm ho·∫∑c ƒë√®n treo</li>
                        <li>B√†n l√†m vi·ªác g·ªçn g√†ng, c√≥ c√¢y xanh</li>
                    </ul>
                </div>
            `));

            // Section Ph√≤ng Th·ªù & B√†n Th·ªù
            fragment.appendChild(renderSection('üôè Phong Th·ªßy Ph√≤ng Th·ªù & B√†n Th·ªù', `
                <div class="info-box"><strong>üéØ H∆∞·ªõng T·ªêT NH·∫§T:</strong> <span class="highlight">${qd.dirs.good[0]} (Sinh Kh√≠)</span> ho·∫∑c <span class="highlight">${qd.dirs.good[1]} (Thi√™n Y)</span></div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc B√†n Th·ªù (Theo L·ªó Ban 38.8cm - √Çm Tr·∫°ch):</h4>
                    <strong>B√†n th·ªù nh·ªè:</strong><br>
                    ‚Ä¢ Chi·ªÅu r·ªông: <span class="highlight">48cm</span> - H·ª∑ s·ª±<br>
                    ‚Ä¢ Chi·ªÅu s√¢u: <span class="highlight">48cm</span> - H·ª∑ s·ª±<br>
                    ‚Ä¢ Chi·ªÅu cao: <span class="highlight">108cm</span> - T√†i v∆∞·ª£ng<br>
                    <strong>B√†n th·ªù trung b√¨nh (T·ªêT NH·∫§T):</strong><br>
                    ‚Ä¢ Chi·ªÅu r·ªông: <span class="highlight">88cm</span> - Ti·∫øn b·∫£o<br>
                    ‚Ä¢ Chi·ªÅu s√¢u: <span class="highlight">61cm</span> - T√†i v∆∞·ª£ng<br>
                    ‚Ä¢ Chi·ªÅu cao: <span class="highlight">127cm</span> - ƒê·∫°i c√°t<br>
                    <strong>B√†n th·ªù l·ªõn:</strong><br>
                    ‚Ä¢ Chi·ªÅu r·ªông: <span class="highlight">107cm</span> - T√†i v∆∞·ª£ng<br>
                    ‚Ä¢ Chi·ªÅu s√¢u: <span class="highlight">69cm</span> - Th√™m ph√∫c<br>
                    ‚Ä¢ Chi·ªÅu cao: <span class="highlight">153cm</span> - ƒê·∫°i c√°t<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #FFE4D6; padding: 5px 10px; border-radius: 5px; font-weight: bold;">88cm √ó 61cm √ó 127cm</span>
                    
                    <h4>üìç V·ªã tr√≠ ƒë·∫∑t b√†n th·ªù:</h4>
                    <strong>V·ªã tr√≠ t·ªët nh·∫•t:</strong> ƒê·∫∑t b√†n th·ªù ·ªü ph√≠a <span class="highlight">${qd.dirs.good[0]}</span> c·ªßa nh√† (Sinh Kh√≠ - v∆∞·ª£ng ph√∫c l·ªôc)<br>
                    <strong>V·ªã tr√≠ t·ªët th·ª© 2:</strong> ƒê·∫∑t b√†n th·ªù ·ªü ph√≠a <span class="highlight">${qd.dirs.good[1]}</span> c·ªßa nh√† (Thi√™n Y - che ch·ªü s·ª©c kh·ªèe)<br>
                    <strong>V·ªã tr√≠ thay th·∫ø:</strong> C√≥ th·ªÉ ƒë·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[3]}</span> (Ph·ª•c V·ªã - b√¨nh an)<br>
                    <strong>‚ö†Ô∏è TUY·ªÜT ƒê·ªêI TR√ÅNH:</strong> Kh√¥ng ƒë·∫∑t b√†n th·ªù ·ªü ph√≠a <span style="color:#f44336;font-weight:bold">${qd.dirs.bad[0]}</span> (Tuy·ªát M·ªánh) ho·∫∑c <span style="color:#f44336;font-weight:bold">${qd.dirs.bad[1]}</span> (Ng≈© Qu·ª∑)
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t b√°t h∆∞∆°ng ho·∫∑c t∆∞·ª£ng Ph·∫≠t ·ªü g√≥c <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) tr√™n b√†n th·ªù ƒë·ªÉ tƒÉng ph√∫c l·ªôc.<br>
                    - ƒê·∫∑t ƒë√®n d·∫ßu ho·∫∑c n·∫øn nh·ªè ·ªü g√≥c <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) ƒë·ªÉ c·∫ßu s·ª©c kh·ªèe cho gia ƒë√¨nh.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>üß≠ H∆∞·ªõng b√†n th·ªù (h∆∞·ªõng m·∫∑t t∆∞·ª£ng/·∫£nh):</h4>
                    <strong>H∆∞·ªõng t·ªët nh·∫•t:</strong> T∆∞·ª£ng/·∫£nh tr√™n b√†n th·ªù n√™n h∆∞·ªõng m·∫∑t v·ªÅ <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠)<br>
                    <strong>H∆∞·ªõng t·ªët th·ª© 2:</strong> C√≥ th·ªÉ h∆∞·ªõng v·ªÅ <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y)<br>
                    <strong>H∆∞·ªõng thay th·∫ø:</strong> H∆∞·ªõng v·ªÅ <span class="highlight">${qd.dirs.good[2]}</span> (Di√™n Ni√™n) ho·∫∑c <span class="highlight">${qd.dirs.good[3]}</span> (Ph·ª•c V·ªã)<br>
                    <em class="direction-note">L∆∞u √Ω: "H∆∞·ªõng b√†n th·ªù" l√† h∆∞·ªõng m·∫∑t c·ªßa t∆∞·ª£ng/·∫£nh tr√™n b√†n th·ªù nh√¨n ra</em>
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>B√†n th·ªù PH·∫¢I ƒë·∫∑t ·ªü v·ªã tr√≠ cao nh·∫•t trong nh√†</li>
                        <li>KH√îNG ƒë·∫∑t d∆∞·ªõi nh√† v·ªá sinh/ph√≤ng ng·ªß t·∫ßng tr√™n</li>
                        <li>KH√îNG ƒë·ªÉ b√†n th·ªù quay v·ªÅ ph√≠a toilet</li>
                        <li>Ph√≠a sau b√†n th·ªù n√™n l√† t∆∞·ªùng v·ªØng ch·∫Øc</li>
                        <li>KH√îNG ƒë·∫∑t b√†n th·ªù s√°t c·ª≠a ra v√†o</li>
                        <li>Tr√°nh ƒë·ªÉ b√†n th·ªù d∆∞·ªõi g·∫ßm c·∫ßu thang</li>
                        <li>Lu√¥n gi·ªØ b√†n th·ªù s·∫°ch s·∫Ω, trang nghi√™m</li>
                    </ul>
                </div>
            `));

            // Section C·∫ßu Thang
            fragment.appendChild(renderSection('ü™ú Phong Th·ªßy C·∫ßu Thang', `
                <div class="info-box"><strong>üéØ Nguy√™n t·∫Øc:</strong> C·∫ßu thang n√™n ƒë·∫∑t ·ªü v·ªã tr√≠ h∆∞·ªõng <span class="highlight">${qd.dirs.bad[0]}</span> (Tuy·ªát M·ªánh) ho·∫∑c <span class="highlight">${qd.dirs.bad[1]}</span> (Ng≈© Qu·ª∑)</div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc C·∫ßu Thang (Theo L·ªó Ban 42.9cm):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">85.8cm</span> - T√†i l·ªôc<br>
                    ‚Ä¢ <span class="highlight">107.2cm</span> - V∆∞·ª£ng kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu cao b·∫≠c (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">17.2cm</span> - T√†i v∆∞·ª£ng<br>
                    ‚Ä¢ <span class="highlight">21.5cm</span> - ƒê·∫°i c√°t<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">107.2cm √ó 21.5cm (b·∫≠c)</span>
                    
                    <h4>üìç V·ªã tr√≠ ƒë·∫∑t c·∫ßu thang:</h4>
                    <strong>T·ªët nh·∫•t:</strong> C·∫ßu thang n√™n ·ªü h∆∞·ªõng <span class="highlight">${qd.dirs.bad[0]}</span> ho·∫∑c <span class="highlight">${qd.dirs.bad[1]}</span> ƒë·ªÉ "d·∫´n" hung kh√≠ ƒëi<br>
                    <strong>C√≥ th·ªÉ ch·∫•p nh·∫≠n:</strong> ƒê·∫∑t ·ªü g√≥c c·ªßa nh√†, kh√¥ng ·ªü gi·ªØa<br>
                    <strong>Tr√°nh:</strong> KH√îNG ƒë·∫∑t c·∫ßu thang ·ªü h∆∞·ªõng <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) - s·∫Ω r√≤ r·ªâ t√†i l·ªôc
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t m·ªôt ƒë√¥i k·ª≥ l√¢n ho·∫∑c t∆∞·ª£ng r·ªìng ·ªü ch√¢n c·∫ßu thang h∆∞·ªõng <span class="highlight">${qd.dirs.bad[0]}</span> (Tuy·ªát M·ªánh) ƒë·ªÉ tr·∫•n √°p hung kh√≠.<br>
                    - Treo g∆∞∆°ng b√°t qu√°i nh·ªè ·ªü ƒë·∫ßu c·∫ßu thang h∆∞·ªõng <span class="highlight">${qd.dirs.good[3]}</span> (Ph·ª•c V·ªã) ƒë·ªÉ b·∫£o v·ªá nƒÉng l∆∞·ª£ng t√≠ch c·ª±c.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>üîÑ H√¨nh d√°ng & ki·ªÉu c·∫ßu thang:</h4>
                    <strong>T·ªët nh·∫•t:</strong> C·∫ßu thang h√¨nh xo·∫Øn ·ªëc ho·∫∑c h√¨nh ch·ªØ L<br>
                    <strong>C√≥ th·ªÉ ch·∫•p nh·∫≠n:</strong> C·∫ßu thang th·∫≥ng (n·∫øu kh√¥ng ·ªü gi·ªØa nh√†)<br>
                    <strong>Tr√°nh:</strong> <br>
                    ‚Ä¢ C·∫ßu thang l·ªách l·∫°c, b·∫≠c cao th·∫•p kh√¥ng ƒë·ªÅu<br>
                    ‚Ä¢ C·∫ßu thang qu√° d·ªëc ho·∫∑c qu√° n√¥ng<br>
                    ‚Ä¢ C·∫ßu thang ƒë·ªëi di·ªán tr·ª±c ti·∫øp v·ªõi c·ª≠a ch√≠nh<br>
                    ‚Ä¢ C·∫ßu thang ·ªü d∆∞·ªõi d·∫ßm ho·∫∑c trong g√≥c t·ªëi
                    
                    <h4>üé® M√†u s·∫Øc c·∫ßu thang:</h4>
                    <strong>N√™n ch·ªçn:</strong> M√†u s√°ng, ·∫•m √°p (tr·∫Øng, kem, n√¢u nh·∫°t, x√°m nh·∫°t)<br>
                    <strong>Ch·∫•t li·ªáu:</strong> G·ªó t·ª± nhi√™n, ƒë√°, xi mƒÉng - tr√°nh k√≠nh trong su·ªët<br>
                    <strong>Tr√°nh:</strong> M√†u ƒëen, ƒë·ªè qu√° ƒë·∫≠m, ho·∫∑c k√≠nh trong su·ªët (kh√≠ r√≤ r·ªâ)
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>KH√îNG ƒë·∫∑t c·∫ßu thang ·ªü gi·ªØa nh√† (r·∫•t x·∫•u)</li>
                        <li>KH√îNG ƒë·∫∑t b√†n th·ªù d∆∞·ªõi g·∫ßm c·∫ßu thang</li>
                        <li>C·∫ßu thang ƒë·ªëi di·ªán c·ª≠a ch√≠nh = t√†i l·ªôc r√≤ r·ªâ</li>
                        <li>Lu√¥n gi·ªØ c·∫ßu thang s·∫°ch s·∫Ω, kh√¥ng b·ª•i b·∫∑m</li>
                    </ul>
                </div>
            `));

            // Section Ph√≤ng Kh√°ch
            fragment.appendChild(renderSection('üõãÔ∏è Phong Th·ªßy Ph√≤ng Kh√°ch', `
                <div class="info-box"><strong>üéØ H∆∞·ªõng T·ªêT NH·∫§T:</strong> <span class="highlight">${qd.dirs.good[0]} (Sinh Kh√≠)</span> - thu h√∫t t√†i l·ªôc v√† qu√Ω nh√¢n</div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc C·ª≠a Ph√≤ng Kh√°ch (Theo L·ªó Ban 52.2cm - D∆∞∆°ng Tr·∫°ch):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">78.3cm</span> - T√†i v·∫≠n<br>
                    ‚Ä¢ <span class="highlight">104.4cm</span> - Sinh kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">208.8cm</span> - Sinh kh√≠<br>
                    ‚Ä¢ <span class="highlight">234.9cm</span> - Ph√°t l·ªôc<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">104.4cm √ó 208.8cm</span>
                    
                    <h4>üìç V·ªã tr√≠ ph√≤ng kh√°ch:</h4>
                    <strong>T·ªët nh·∫•t:</strong> Ph√≤ng kh√°ch ·ªü ph√≠a <span class="highlight">${qd.dirs.good[0]}</span> c·ªßa nh√† (Sinh Kh√≠ - v∆∞·ª£ng t√†i v·∫≠n, qu√Ω nh√¢n)<br>
                    <strong>L·ª±a ch·ªçn 2:</strong> ƒê·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y - tho√°ng ƒë√£ng, s√°ng s·ªßa)<br>
                    <strong>L·ª±a ch·ªçn 3:</strong> ƒê·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[3]}</span> (Ph·ª•c V·ªã - b√¨nh an, ·ªïn ƒë·ªãnh)
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t b·ªÉ c√° nh·ªè ho·∫∑c th·∫°ch anh v√†ng ·ªü g√≥c <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) ƒë·ªÉ thu h√∫t t√†i l·ªôc.<br>
                    - ƒê·∫∑t t∆∞·ª£ng ph·∫≠t Di L·∫∑c ho·∫∑c c√¢y ph√°t t√†i ·ªü g√≥c <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) ƒë·ªÉ mang l·∫°i s·ª©c kh·ªèe v√† ni·ªÅm vui.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>üõãÔ∏è H∆∞·ªõng b√†n gh·∫ø ph√≤ng kh√°ch:</h4>
                    <strong>V·ªã tr√≠ gh·∫ø ch·ªß:</strong> N√™n h∆∞·ªõng m·∫∑t v·ªÅ <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) ho·∫∑c <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y)<br>
                    <strong>Nguy√™n t·∫Øc:</strong> Ng∆∞·ªùi ng·ªìi n√™n c√≥ t∆∞·ªùng v·ªØng ch·∫Øc ·ªü ph√≠a sau l∆∞ng, tr√°nh ng·ªìi quay l∆∞ng v·ªÅ c·ª≠a<br>
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Ph√≤ng kh√°ch ph·∫£i r·ªông r√£i, s√°ng s·ªßa</li>
                        <li>KH√îNG ƒë·ªÉ g∆∞∆°ng soi ƒë·ªëi di·ªán c·ª≠a ch√≠nh</li>
                        <li>Lu√¥n gi·ªØ ph√≤ng kh√°ch s·∫°ch s·∫Ω, g·ªçn g√†ng</li>
                    </ul>
                </div>
            `));

            // Section Ph√≤ng Ng·ªß
            fragment.appendChild(renderSection('üõèÔ∏è Phong Th·ªßy Ph√≤ng Ng·ªß', `
                <div class="info-box"><strong>üéØ H∆∞·ªõng T·ªêT NH·∫§T:</strong> <span class="highlight">${qd.dirs.good[0]} (Sinh Kh√≠)</span> ho·∫∑c <span class="highlight">${qd.dirs.good[1]} (Thi√™n Y)</span></div>
                <div class="detail-box">
                    <h4>üìè K√≠ch Th∆∞·ªõc C·ª≠a Ph√≤ng Ng·ªß (Theo L·ªó Ban 52.2cm - D∆∞∆°ng Tr·∫°ch):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">78.3cm</span> - T√†i v·∫≠n<br>
                    ‚Ä¢ <span class="highlight">104.4cm</span> - Sinh kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">208.8cm</span> - Sinh kh√≠<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">104.4cm √ó 208.8cm</span>
                    
                    <h4>üìè K√≠ch Th∆∞·ªõc Gi∆∞·ªùng Ng·ªß (Theo L·ªó Ban 42.9cm):</h4>
                    <strong>Chi·ªÅu r·ªông (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">128.7cm</span> - T√†i l·ªôc<br>
                    ‚Ä¢ <span class="highlight">171.6cm</span> - V∆∞·ª£ng kh√≠ (t·ªët nh·∫•t)<br>
                    <strong>Chi·ªÅu d√†i (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">193cm</span> - ƒê·∫°i c√°t<br>
                    <strong>Chi·ªÅu cao (MAY):</strong><br>
                    ‚Ä¢ <span class="highlight">85.8cm</span> - T√†i v∆∞·ª£ng<br>
                    <strong>‚ú® K√≠ch th∆∞·ªõc T·ªêT NH·∫§T:</strong> <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px; font-weight: bold;">171.6cm √ó 193cm √ó 85.8cm</span>
                    
                    <h4>üìç V·ªã tr√≠ ƒë·∫∑t ph√≤ng ng·ªß:</h4>
                    <strong>H∆∞·ªõng ∆∞u ti√™n 1:</strong> Ph√≤ng ng·ªß ƒë·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[0]}</span> c·ªßa nh√† (Sinh Kh√≠ - t·ªët cho t√†i l·ªôc, con c√°i)<br>
                    <strong>H∆∞·ªõng ∆∞u ti√™n 2:</strong> Ph√≤ng ng·ªß ƒë·∫∑t ·ªü ph√≠a <span class="highlight">${qd.dirs.good[1]}</span> c·ªßa nh√† (Thi√™n Y - t·ªët cho s·ª©c kh·ªèe)<br>
                    <strong>H∆∞·ªõng thay th·∫ø:</strong> C√≥ th·ªÉ ch·ªçn <span class="highlight">${qd.dirs.good[2]}</span> (Di√™n Ni√™n - t·ªët cho v·ª£ ch·ªìng)
                    
                    <h4>ü™¥ V·∫≠t ph·∫©m phong th·ªßy:</h4>
                    <strong>ƒê·ªÅ xu·∫•t:</strong> 
                    - ƒê·∫∑t th·∫°ch anh h·ªìng ho·∫∑c tinh th·ªÉ th·∫°ch anh t√≠m ·ªü g√≥c <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) g·∫ßn ƒë·∫ßu gi∆∞·ªùng ƒë·ªÉ tƒÉng s·ª©c kh·ªèe.<br>
                    - ƒê·∫∑t ƒë√¥i chim uy√™n ∆∞∆°ng ho·∫∑c t∆∞·ª£ng t√¨nh y√™u ·ªü g√≥c <span class="highlight">${qd.dirs.good[2]}</span> (Di√™n Ni√™n) ƒë·ªÉ h√≤a thu·∫≠n gia ƒë·∫°o.<br>
                    <em class="direction-note">Ch·ªçn v·∫≠t ph·∫©m theo m·ªánh ${m} (m√†u s·∫Øc: ${md.colors}) ƒë·ªÉ tƒÉng hi·ªáu qu·∫£.</em>
                    
                    <h4>üõå H∆∞·ªõng ƒë·∫ßu gi∆∞·ªùng n·∫±m:</h4>
                    <strong>T·ªët nh·∫•t:</strong> ƒê·∫ßu gi∆∞·ªùng h∆∞·ªõng v·ªÅ <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠)<br>
                    <strong>L·ª±a ch·ªçn 2:</strong> ƒê·∫ßu gi∆∞·ªùng h∆∞·ªõng v·ªÅ <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y)<br>
                    <strong>L·ª±a ch·ªçn 3:</strong> ƒê·∫ßu gi∆∞·ªùng h∆∞·ªõng v·ªÅ <span class="highlight">${qd.dirs.good[2]}</span> (Di√™n Ni√™n)<br>
                    <em class="direction-note">L∆∞u √Ω: "H∆∞·ªõng ƒë·∫ßu gi∆∞·ªùng" l√† h∆∞·ªõng ƒë·ªânh ƒë·∫ßu b·∫°n h∆∞·ªõng v·ªÅ khi n·∫±m tr√™n gi∆∞·ªùng</em>
                    
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h4>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Kh√¥ng ƒë·∫∑t g∆∞∆°ng soi tr·ª±c di·ªán gi∆∞·ªùng</li>
                        <li>Tr√°nh d·∫ßm ƒë√® tr·ª±c ti·∫øp l√™n ƒë·∫ßu gi∆∞·ªùng</li>
                        <li>Gi∆∞·ªùng kh√¥ng n√™n chung t∆∞·ªùng v·ªõi toilet</li>
                        <li>ƒê·∫ßu gi∆∞·ªùng n√™n t·ª±a v√†o t∆∞·ªùng v·ªØng ch·∫Øc</li>
                        <li>Tr√°nh c·ª≠a ph√≤ng ƒë·ªëi th·∫≥ng ch√¢n gi∆∞·ªùng</li>
                    </ul>
                </div>
            `));

            // Section V·∫≠t Ph·∫©m & M√†u S·∫Øc
            fragment.appendChild(renderSection('üé® V·∫≠t Ph·∫©m & M√†u S·∫Øc Phong Th·ªßy', `
                <div class="detail-box">
                    <h4>üé® M√†u s·∫Øc t∆∞∆°ng sinh:</h4>
                    <strong>${md.colors}</strong><br><em class="direction-note">D√πng c√°c m√†u n√†y cho s∆°n t∆∞·ªùng, n·ªôi th·∫•t, qu·∫ßn √°o</em>
                    
                    <h4>üè∫ V·∫≠t ph·∫©m n√™n ƒë·∫∑t:</h4>
                    <strong>${md.items}</strong><br><em class="direction-note">ƒê·∫∑t ·ªü h∆∞·ªõng t·ªët (${qd.dirs.good[0]}, ${qd.dirs.good[1]}) ƒë·ªÉ tƒÉng v·∫≠n</em>
                    
                    <h4>üå± C√¢y phong th·ªßy:</h4>
                    <strong>${md.plants}</strong><br><em class="direction-note">ƒê·∫∑t c√¢y ·ªü g√≥c ph√≤ng kh√°ch ho·∫∑c h∆∞·ªõng Sinh Kh√≠</em>
                    
                    <h4>üíé ƒê√° phong th·ªßy & V·ªã tr√≠ ƒë·∫∑t:</h4>
                    <strong>${md.stones}</strong><br>
                    <strong>üìç V·ªã tr√≠ ƒë·∫∑t ƒë√° th·∫°ch anh trong nh√† (theo qu·∫ª ${q} v√† tu·ªïi ${y}):</strong><br>
                    <ul style="margin-left: 20px;">
                        <li><strong>T√†i l·ªôc:</strong> ƒê·∫∑t c·ª•m th·∫°ch anh v√†ng ho·∫∑c citrine ·ªü <span class="highlight">${qd.dirs.good[0]}</span> (Sinh Kh√≠) c·ªßa ph√≤ng kh√°ch ho·∫∑c b√†n l√†m vi·ªác ƒë·ªÉ thu h√∫t t√†i v·∫≠n. N·∫øu c√≥ th·ªÉ, ƒë·∫∑t th√™m ·ªü g√≥c tr√°i c·ª≠a ch√≠nh (nh√¨n t·ª´ trong ra).</li>
                        <li><strong>S·ª©c kh·ªèe:</strong> ƒê·∫∑t th·∫°ch anh h·ªìng ho·∫∑c th·∫°ch anh t√≠m ·ªü <span class="highlight">${qd.dirs.good[1]}</span> (Thi√™n Y) g·∫ßn ƒë·∫ßu gi∆∞·ªùng ph√≤ng ng·ªß ho·∫∑c g√≥c ph√≤ng t·∫Øm ƒë·ªÉ tƒÉng c∆∞·ªùng nƒÉng l∆∞·ª£ng ch·ªØa l√†nh.</li>
                        <li><strong>H√¥n nh√¢n & Gia ƒë·∫°o:</strong> ƒê·∫∑t th·∫°ch anh t√≠m ho·∫∑c th·∫°ch anh tr·∫Øng ·ªü <span class="highlight">${qd.dirs.good[2]}</span> (Di√™n Ni√™n) trong ph√≤ng kh√°ch ho·∫∑c khu v·ª±c sinh ho·∫°t chung ƒë·ªÉ th√∫c ƒë·∫©y h√≤a thu·∫≠n.</li>
                        <li><strong>B√¨nh an & ·ªîn ƒë·ªãnh:</strong> ƒê·∫∑t th·∫°ch anh ƒëen ho·∫∑c obsidian ·ªü <span class="highlight">${qd.dirs.good[3]}</span> (Ph·ª•c V·ªã) g·∫ßn c·ª≠a s·ªï ho·∫∑c g√≥c h·ªçc t·∫≠p/l√†m vi·ªác ƒë·ªÉ b·∫£o v·ªá nƒÉng l∆∞·ª£ng t√≠ch c·ª±c.</li>
                    </ul>
                    <em style="color: #f44336;">‚ö†Ô∏è L∆∞u √Ω: Kh√¥ng ƒë·∫∑t th·∫°ch anh t·∫°i h∆∞·ªõng ${qd.dirs.bad[0]} (Tuy·ªát M·ªánh)</em>
                </div>
            `));

            // Section M·∫πo TƒÉng C∆∞·ªùng V·∫≠n May
            fragment.appendChild(renderSection('üí° M·∫πo TƒÉng C∆∞·ªùng V·∫≠n May', `
                <div class="detail-box">
                    <ul style="margin-left: 20px;">
                        <li>‚ú® Th·∫Øp ƒë√®n ·ªü h∆∞·ªõng <strong>Sinh Kh√≠</strong> (${qd.dirs.good[0]}) ƒë·ªÉ tƒÉng t√†i v·∫≠n</li>
                        <li>üõèÔ∏è ƒê·∫∑t gi∆∞·ªùng ·ªü h∆∞·ªõng <strong>Thi√™n Y</strong> (${qd.dirs.good[1]}) n·∫øu ·ªëm y·∫øu</li>
                        <li>üíë H∆∞·ªõng <strong>Di√™n Ni√™n</strong> (${qd.dirs.good[2]}) t·ªët cho v·ª£ ch·ªìng h√≤a thu·∫≠n</li>
                        <li>üåø ƒê·∫∑t c√¢y xanh, b·ªÉ c√° ·ªü h∆∞·ªõng t·ªët</li>
                        <li>üßπ Lu√¥n gi·ªØ nh√† c·ª≠a s·∫°ch s·∫Ω, tho√°ng ƒë√£ng</li>
                        <li>üóëÔ∏è V·ª©t b·ªè ƒë·ªì c≈©, h∆∞ h·ªèng th∆∞·ªùng xuy√™n</li>
                        <li>üö™ C·ª≠a ch√≠nh ƒë·∫∑t ·ªü h∆∞·ªõng <span class="highlight">${qd.dirs.good[0]}</span> ho·∫∑c <span class="highlight">${qd.dirs.good[1]}</span> ƒë·ªÉ ƒë√≥n kh√≠ t·ªët</li>
                    </ul>
                </div>
            `));

            const results = document.getElementById('results');
            results.innerHTML = '';
            results.appendChild(fragment);
            results.classList.add('show');
            results.scrollIntoView({behavior: 'smooth'});
        }
    </script>
</body>
</html>
